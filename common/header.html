<script type = "text/discourse-plugin" version = "0.0.1">
    
    let componentSelector = 'div[image-comparison-slider]',
        componentName = 'image-comparison-slider';
    
    cooked.querySelectorAll(componentSelector).forEach(slider => {
      gallery.innerHTML = "<span style = 'background-color:red;color:white;'>This has been cooked!</span>"
    })


    let translations = I18n.translations[I18n.currentLocale()].js;

    if (!translations) {
      translations = {};
    }
    if (!translations.composer) {
      translations.composer = {};
    }
    translations.button_text = settings.button_text;
    translations.composer.add_images_prompt =
      settings.add_images_prompt;

    api.onToolbarCreate(function(toolbar){
        toolbar.addButton({
            trimLeading: true,
            id: "image-comparison-slider",
            group: "insertions",
            icon: "bolt",
            title: "image-comparison-slider",
            perform: e => e.applySurround(
                "<div image-comparison-slider>\n\n",
                "\n\n</div>",
                "add_images_prompt",
                { multiline: false }
            )
        });
    });
</script>