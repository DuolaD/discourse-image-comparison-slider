<script type="text/discourse-plugin" version="0.0.1">

  let componentSelector = 'div[data-image-comparison-slider]',
        componentName = 'image-comparison-slider';
    

        function componentPrep(cooked){
    cooked.querySelectorAll(componentSelector).forEach(slider => {
      slider.style.backgroundColor = "red;"
    })}


    let translations = I18n.translations[I18n.currentLocale()].js;

    if (!translations) {
      translations = {};
    }
    if (!translations.composer) {
      translations.composer = {};
    }
    translations.button_text = settings.button_text;
    translations.composer.add_images_prompt =
      settings.add_images_prompt;


    api.decorateCookedElement(componentPrep, {
        onlyStream: false, 
        id: 'image-comparison-slider'
      });


    api.onToolbarCreate(function(toolbar){
        toolbar.addButton({
            trimLeading: true,
            id: "image-comparison-slider",
            group: "insertions",
            icon: "bolt",
            title: "image-comparison-slider",
            perform: e => e.applySurround(
                "<div data-image-comparison-slider>\n\n",
                "\n\n</div>",
                "add_images_prompt",
                { multiline: false }
            )
        });
    });
</script>